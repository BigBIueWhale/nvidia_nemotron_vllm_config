# vLLM server config for Nemotron-Nano-12B-v2 on RTX 5090
# This file is loaded by `vllm serve --config /workspace/config.yaml`

# ---- Model & server ----
model: "nvidia/NVIDIA-Nemotron-Nano-12B-v2"
trust-remote-code: true
host: "0.0.0.0"
port: 8000

# Nemotron/Blackwell specifics
mamba-ssm-cache-dtype: "float32"   # REQUIRED for quality on Nemotron v2
max-model-len: 131072
max-num-seqs: 64

# ---- Defaults source + overrides ----
# Use only the overrides below as the authoritative defaults.
generation-config: "vllm"

override-generation-config:
  # Core sampling (reasoning-friendly)
  temperature: 0.6
  top_p: 0.95
  top_k: 50
  repetition_penalty: 1.0
  presence_penalty: 0.0
  frequency_penalty: 0.0

  # Output limits / behavior
  max_tokens: 1024
  n: 1
  best_of: 1
